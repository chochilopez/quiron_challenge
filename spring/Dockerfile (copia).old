FROM maven:3.6.3-openjdk-14-slim AS build
COPY src /home/app/src
copy pom.xml /home/app
RUN mvn -f /home/app/pom.xml clean package

FROM openjdk:14-alpine
RUN mkdir /home/backend/quiron
WORKDIR /home/backend/quiron
COPY /home/mmuni/GIT/quiron_challenge/spring/out/artifacts/quiron_jar /home/backend/quiron
ENTRYPOINT ["java","-jar","/home/backend/quiron/quiron.jar"]
EXPOSE 9088

RUN mkdir /home/backend/quiron
WORKDIR /home/backend/quiron

